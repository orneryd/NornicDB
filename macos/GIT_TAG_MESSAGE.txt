v1.1.0 - macOS Native Integration

ğŸ Complete macOS Integration with Menu Bar App

This release adds comprehensive native macOS support with a polished menu bar
application, professional installer, and seamless auto-start configuration.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ NEW FEATURES

Menu Bar Application
--------------------
â€¢ Native Swift/SwiftUI menu bar app with status monitoring
â€¢ Color-coded NornicDB logo icon (green=running, red=stopped, gray=unknown)
â€¢ Real-time health monitoring (checks every 10 seconds)
â€¢ Quick access menu for server control
â€¢ Auto-starts on login via LaunchAgent

First-Run Setup Wizard
----------------------
â€¢ Beautiful 3-step wizard for initial configuration
â€¢ Visual step indicators with progress tracking
â€¢ Three configuration presets:
  - Basic: Essential features only
  - Standard: Embeddings + K-Means (recommended)
  - Advanced: All AI features enabled
â€¢ Smart model download integration
â€¢ Green checkmarks for installed models
â€¢ One-click download for missing models (BGE-M3, Qwen2.5-0.5B)
â€¢ Direct link to open models folder

Settings Window (4 Tabs)
------------------------
â€¢ Features Tab: Toggle embeddings, k-means, auto-TLP, Heimdall
â€¢ Server Tab: Configure port and host address
â€¢ Models Tab: Select AI models from available .gguf files
â€¢ Startup Tab: Control auto-start behavior
â€¢ Change detection with "Unsaved changes" indicator
â€¢ Save button disabled when no changes
â€¢ Inline progress indicator during save/restart
â€¢ Auto-closes after successful configuration

Model Management
----------------
â€¢ Download default models from HuggingFace menu
â€¢ Open models folder for manual model management
â€¢ Automatic .gguf file scanning
â€¢ Model selection dropdowns in Settings
â€¢ Visual indication of installed vs missing models
â€¢ Support for custom models (drag & drop to folder)

Auto-Start Configuration
------------------------
â€¢ Server auto-starts on boot (com.nornicdb.server LaunchAgent)
â€¢ Menu bar app auto-starts on login (com.nornicdb.menubar LaunchAgent)
â€¢ Configurable via Settings â†’ Startup tab
â€¢ Graceful shutdown and restart handling

Professional Installer
----------------------
â€¢ Distributable .pkg installer (15MB)
â€¢ DMG packaging for easy distribution
â€¢ Graceful reinstallation support
â€¢ Preserves user data, config, and database
â€¢ Pre-install script stops existing services
â€¢ Post-install script configures LaunchAgents
â€¢ Automatic menu bar app launch after install
â€¢ Requires macOS 12.0+ (Monterey or later)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”§ TECHNICAL IMPROVEMENTS

LaunchAgent Integration
-----------------------
â€¢ com.nornicdb.server.plist - Server daemon with auto-restart
â€¢ com.nornicdb.menubar.plist - Menu bar app auto-launch
â€¢ Proper working directory and environment variables
â€¢ Structured logging to /usr/local/var/log/nornicdb/

Build System
------------
â€¢ New Makefile targets:
  - make macos-menubar: Build menu bar app
  - make macos-install: Install as service
  - make macos-uninstall: Clean uninstall
  - make macos-package: Create .pkg installer
  - make macos-package-signed: Signed package for distribution
  - make macos-all: Build and install everything
â€¢ Automatic architecture detection (arm64/x86_64)
â€¢ Icon generation from SVG logo
â€¢ Swift compilation with proper flags

Configuration Management
------------------------
â€¢ YAML config parsing in Swift (regex-based)
â€¢ Preserves comments and formatting when saving
â€¢ Model selection persistence
â€¢ Server port/host configuration
â€¢ Feature toggles saved to config.yaml
â€¢ Auto-start preference management

Code Quality
------------
â€¢ Clean separation of concerns (AppDelegate, ConfigManager, Views)
â€¢ Comprehensive error handling
â€¢ Async downloads with progress tracking
â€¢ Memory-safe file operations
â€¢ Proper cleanup on reinstallation

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ INSTALLATION

Build and install:
  make build macos-menubar macos-package
  open dist/NornicDB-1.0.0-arm64.pkg

What gets installed:
  â€¢ /usr/local/bin/nornicdb (server binary)
  â€¢ /Applications/NornicDB.app (menu bar app)
  â€¢ ~/Library/LaunchAgents/*.plist (auto-start configs)
  â€¢ ~/Library/Application Support/NornicDB/config.yaml
  â€¢ /usr/local/var/nornicdb/models/ (AI models)
  â€¢ /usr/local/var/nornicdb/data/ (database)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ› BUG FIXES

Test Infrastructure
-------------------
â€¢ Fixed Windows OOM issues in Go tests
â€¢ Added skipOnConstrainedEnv for memory-intensive tests
â€¢ Converted disk-based BadgerDB tests to in-memory
â€¢ Added skipDiskIOTestOnWindows for Windows compatibility
â€¢ Proper cleanup of test resources

Server Configuration
--------------------
â€¢ Fixed LaunchAgent command (nornicdb serve instead of nornicdb --config)
â€¢ Corrected health check URL (port 7474 HTTP instead of 7687 Bolt)
â€¢ Fixed Web UI URL in menu bar app
â€¢ Model configuration persistence

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š DOCUMENTATION

New Documentation:
  â€¢ macos/README.md - Complete macOS integration guide
  â€¢ macos/BUILD_GUIDE.md - Build and packaging instructions
  â€¢ macos/USER_GUIDE.md - End-user documentation
  â€¢ macos/INSTALLATION_GUIDE.md - Installation and setup guide
  â€¢ macos/FEATURES.md - Feature showcase
  â€¢ macos/CHANGELOG.md - Version history
  â€¢ macos/Distribution-README.txt - Packaged with installer
  â€¢ macos/Assets/README.md - Icon and asset documentation

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš¡ PERFORMANCE & COMPATIBILITY

â€¢ Native Apple Silicon (arm64) and Intel (x86_64) support
â€¢ Minimal memory footprint (menu bar app ~60MB)
â€¢ Fast health checks (non-blocking async)
â€¢ Efficient file scanning for models
â€¢ No dependencies on external frameworks
â€¢ Works seamlessly with existing NornicDB installations

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ USAGE

Quick commands:
  make macos-package              # Build installer
  ./macos/scripts/test-config.sh  # Verify installation
  launchctl list | grep nornicdb  # Check service status
  
User actions:
  â€¢ Click menu bar icon â†’ Quick access to all features
  â€¢ Press âŒ˜, â†’ Open Settings
  â€¢ Press âŒ˜L â†’ Show logs
  â€¢ Menu â†’ Download Models â†’ One-click model download
  â€¢ Menu â†’ Open Models Folder â†’ Manage custom models

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ DISTRIBUTION

For end users:
  1. Download NornicDB-1.1.0-arm64.dmg
  2. Double-click .pkg installer
  3. Follow first-run wizard
  4. Done! Look for database icon in menu bar

For developers:
  make clean macos-clean
  make build macos-menubar macos-package
  # Test: open dist/NornicDB-*.pkg
  # Distribute: Upload to GitHub Releases

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Breaking Changes: None
Upgrade Path: Safe to install over v1.0.0 - all data preserved
Compatibility: macOS 12.0+ (Monterey, Ventura, Sonoma)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Contributors: @orneryd
Release Date: 2024-12-07
